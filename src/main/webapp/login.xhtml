<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">
<head>
	<title>Login | SpendSmart</title>
</head>

	<ui:composition template="/authTemplate.xhtml">
		<ui:define name="content">
			<div class="login__container w-full flex-1 h-full flex px-2 py-2 items-center justify-center">
				<h:form
					onsubmit="#{authBean.handleLogin()}"
					styleClass="login__form text-base max-ssm:text-sm relative w-full max-w-[450px] flex flex-col gap-y-4 py-8 max-ssm:py-7 px-8 max-ssm:px-4 border rounded-md overflow-hidden z-[100] dark:border-lightBg/50 border-darkBg/50 border-[1.5px] shadow-md dark:shadow-darkBg/50 bg-transparent"
				>
					<div class="flex flex-col gap-y-0.5 w-full mb-3 justify-center items-center">
						<span class="font-customHead tracking-wide text-center text-2xl max-lg:text-xl font-semibold">Login to SpendSmart</span>
						<span class="text-center text-base max-ssm:text-sm text-lightText/90 dark:text-darkText/90">Sign in to manage your expenses and achieve your financial goals.</span>
					</div>
					<div class="flex flex-col gap-y-1">
						<h:outputLabel value="Email" for="user_email" styleClass="w-fit" />						
						<h:inputText label="Email" name="user_email" id="user_email" required="true"
							value="#{authBean.loginEmail}" 
							styleClass="px-3 py-1.5 bg-transparent dark:border-lightBg border-darkBg border rounded-md focus:ring-1 outline-none focus:ring-offset-1 focus:ring-darkBg focus:dark:ring-lightBg/[0.5]"
							validatorMessage="Invalid mail"
							requiredMessage="Email is required"
						>
							<f:validateRegex pattern="^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$"></f:validateRegex>
						</h:inputText>
						<h:message styleClass="text-sm" for="user_email" style="color:red;" />
					</div>
					<div class="flex flex-col gap-y-1">
						<h:outputLabel value="Password" for="user_password" styleClass="w-fit" />				
						<h:inputSecret label="Password" name="user_password" id="user_password" required="true"
							value="#{authBean.loginPassword}"
							styleClass="px-3 py-1.5 bg-transparent dark:border-lightBg border-darkBg border rounded-md  focus:ring-1 outline-none focus:ring-offset-1 focus:ring-darkBg focus:dark:ring-lightBg/[0.5]"
							requiredMessage="Password is required"
						>
							<f:validateLength minimum="1" />
						</h:inputSecret>
						<h:message styleClass="text-sm" for="user_password" style="color:red;" />
					</div>
					<div class="form_submit__btn flex w-full mt-1">
						<h:commandButton type="submit" value="Login"
							styleClass="px-3 py-1.5 text-darkText bg-lightPrimary dark:bg-darkPrimary font-semibold w-full cursor-pointer hover:bg-lightPrimary/[0.9] dark:hover:bg-darkPrimary/[0.95] transition-all rounded-md"
						>
							<f:ajax execute="@form" render="@form" />
						</h:commandButton>
					</div>
					<div class="w-full text-right text-sm font-[300] flex flex-col gap-y-1">
						<span>New to SpendSmart?</span>
						<span>
							<h:outputLink action="register" value="register.jsf" styleClass="font-semibold text-lightPrimary dark:text-darkPrimary">
								Register here 
							</h:outputLink>
							to get started!
						</span>
					</div>
				</h:form>
			</div>
		</ui:define>
	</ui:composition>
</html>